<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notion 스타일 페이지</title>
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
        /* General Reset & Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        html, body {
            height: 100%; /* Important for body to fill viewport */
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            display: flex; /* Use flexbox for vertical stacking */
            flex-direction: column; /* Stack header, main-wrapper, footer */
        }

        /* Top Header Section (from your initial code) */
        .app-header { /* Renamed to avoid conflict with .main-header */
            height: 60px; /* Example fixed height for the header */
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0; /* Prevent it from shrinking */
        }
        .header-logo {
            display: flex;
            align-items: center;
            gap: 10px; /* Space between logo image and title image */
        }
        .header-logo img {
            height: 40px; /* Adjust logo image height */
            width: auto;
        }
        .header-logo .logo-title {
            height: 20px; /* Adjust title image height */
            width: auto;
        }
        .status {
            font-size: 14px;
            color: #6c757d;
            margin-left: auto; /* Pushes status, profile, admin to the right */
            margin-right: 15px;
        }
        .status span {
            color: #28a745; /* Green for online dot */
            font-size: 18px;
            line-height: 1;
            vertical-align: middle;
        }
        .app-header img[alt="프로필이미지"] {
            width: 35px;
            height: 35px;
            border-radius: 50%; /* Make it round */
            margin-right: 10px;
        }
        .admin {
            font-size: 13px;
            text-align: right;
            line-height: 1.2;
            color: #343a40;
        }


        /* Main Content Wrapper (contains both sidebars and the editor) */
        .main-content-wrapper { /* Renamed from .container and .main-layout */
            display: flex; /* Use flexbox for horizontal arrangement */
            flex-grow: 1; /* Makes this section fill remaining vertical space */
            overflow: hidden; /* Prevents scrollbars from nested elements if content overflows */
        }

        /* Original Sidebar (사내 게시판 프로젝트) */
        .original-sidebar { /* Renamed from .sidebar */
            width: 240px;
            background-color: #ffffff;
            border-right: 1px solid #e0e0e0;
            padding: 1rem;
            overflow-y: auto; /* Allows scrolling if content is tall */
            flex-shrink: 0; /* Prevents this sidebar from shrinking */
        }
        .original-sidebar h2 {
            font-size: 18px;
            margin-bottom: 1rem;
            color: #333; /* Ensure color is visible */
        }
        .original-sidebar .section-title { /* For BOARDS, MENU, SETTINGS */
            font-size: 12px;
            color: #888;
            padding: 0.5rem 0; /* Adjust padding as needed */
            margin-top: 1rem; /* Space between sections */
            border-bottom: 1px solid #f0f0f0; /* Optional separator */
            text-transform: uppercase; /* Match common styling for these headers */
        }
        .original-sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0.5rem 0;
            font-size: 14px;
        }
        .original-sidebar li {
            padding: 0.5rem 0.5rem; /* Add some internal padding */
            cursor: pointer;
            transition: background-color 0.2s;
            color: #555;
        }
        .original-sidebar li:hover {
            background-color: #f1f3f5;
            border-radius: 4px; /* Slight rounding on hover */
        }
        .original-sidebar > div:last-child > li { /* Style for the 'Logout' item */
            margin-top: auto; /* Push Logout to bottom if it's the last child in a flex column */
            padding-top: 1rem; /* Add space above logout */
            border-top: 1px solid #eee; /* Separator for logout */
        }


        /* Notion-Style Sidebar (내 페이지) - from previous solution */
        .notion-style-sidebar { /* Renamed from .sidebar */
            width: 240px;
            background-color: #ffffff;
            border-right: 1px solid #e0e0e0;
            padding: 1rem 0;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .notion-style-sidebar-header {
            padding: 0 1rem;
            margin-bottom: 1rem;
        }

        .notion-style-sidebar-header h2 {
            font-size: 16px;
            margin-bottom: 0.5rem;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .notion-style-sidebar-header h2 span {
            font-size: 14px;
            color: #999;
        }

        .search-box {
            display: flex;
            align-items: center;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            padding: 0.5rem 0.75rem;
            margin-bottom: 1rem;
            color: #888;
        }
        .search-box input {
            border: none;
            outline: none;
            flex-grow: 1;
            margin-left: 0.5rem;
            font-size: 14px;
            color: #333;
        }
        .search-box input::placeholder {
            color: #bbb;
        }

        .sidebar-section {
            margin-bottom: 0.5rem;
        }

        .section-title { /* Shared with original-sidebar but different context */
            font-size: 12px;
            color: #888;
            padding: 0.5rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        .section-title i {
            font-size: 10px;
            transition: transform 0.2s;
        }
        .section-title.collapsed i {
            transform: rotate(-90deg);
        }

        .page-list { /* Shared with original-sidebar but different context */
            list-style: none;
            padding: 0;
            font-size: 14px;
        }
        .notion-style-sidebar .page-list li { /* Specific styles for Notion-style sidebar's list items */
            padding: 0.5rem 1rem 0.5rem 1.5rem;
            cursor: pointer;
            transition: background-color 0.1s;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
        }
        .notion-style-sidebar .page-list li:hover {
            background-color: #f1f3f5;
        }
        .notion-style-sidebar .page-list li.active {
            background-color: #e6f0ff;
            color: #1a73e8;
        }
        .notion-style-sidebar .page-list li.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: #1a73e8;
            border-radius: 0 3px 3px 0;
        }
        .notion-style-sidebar .page-list .icon {
            color: #999;
            font-size: 12px;
        }
        .notion-style-sidebar .page-list .add-page {
            color: #666;
            font-style: italic;
        }

        .create-page-btn-wrapper {
            margin-top: auto;
            padding: 1rem;
            border-top: 1px solid #eee;
        }
        .create-page-btn {
            width: 100%;
            padding: 0.75rem;
            background-color: #4f83f1;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .create-page-btn:hover {
            background-color: #3b6edc;
        }

        /* Main Content Area (Notion Editor) */
        .main-editor-area {
        /* Existing styles */
        flex: 1;
        padding: 2rem;
        overflow-y: auto;
        position: relative;

        /* Add these lines for visual distinction */
        background-color: #ffffff; /* Lighter background than the body */
        border-left: 2px solid #e0e0e0; /* A subtle left border */
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.05); /* Optional: a very subtle shadow */
        }

        .main-header { /* Specific to editor area, not app-header */
            display: flex;
            justify-content: flex-end;
            margin-bottom: 1rem;
        }

        .share-btn {
            padding: 0.5rem 1rem;
            background-color: #f0f0f0;
            color: #333;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }
        .share-btn:hover {
            background-color: #e0e0e0;
        }

        .page-title-section {
            margin-bottom: 2rem;
        }

        .page-meta {
            font-size: 12px;
            color: #999;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .page-meta i {
            font-size: 10px;
        }

        .page-title-input {
            width: 100%;
            border: none;
            outline: none;
            font-size: 32px;
            font-weight: bold;
            padding: 0.5rem 0;
            margin-bottom: 1rem;
            color: #333;
            background-color: transparent;
        }
        .page-title-input::placeholder {
            color: #ccc;
        }

        .add-property {
            font-size: 14px;
            color: #666;
            cursor: pointer;
            padding: 0.25rem 0;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        .add-property:hover {
            color: #333;
        }

        .content-editor textarea {
            width: 100%;
            min-height: 400px;
            padding: 1rem;
            border: none;
            outline: none;
            font-size: 16px;
            color: #333;
            background-color: transparent;
            resize: vertical;
        }
        .content-editor textarea::placeholder {
            color: #ccc;
        }

        /* Share Modal (Popup) */
        .share-modal {
            position: absolute;
            top: 50px;
            right: 20px;
            width: 320px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            padding: 15px;
            z-index: 1000;
            display: none;
        }
        .share-modal.show {
            display: block;
        }

        .share-modal h3 {
            font-size: 16px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .share-input-group {
            display: flex;
            align-items: center;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 8px 12px;
            margin-bottom: 15px;
        }
        .share-input-group input {
            border: none;
            outline: none;
            flex-grow: 1;
            font-size: 14px;
            margin-left: 8px;
        }
        .share-input-group input::placeholder {
            color: #bbb;
        }
        .share-input-group i {
            color: #999;
        }

        .share-permission-list {
            list-style: none;
            padding: 0;
        }

        .share-permission-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        .share-permission-item:last-child {
            border-bottom: none;
        }

        .share-user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .share-user-info img {
            width: 30px;
            height: 30px;
            border-radius: 3px;
        }
        .share-user-info span {
            font-size: 14px;
            color: #333;
        }
        .share-permission-dropdown {
            position: relative;
        }
        .share-permission-dropdown button {
            padding: 6px 10px;
            background-color: #f0f0f0;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .share-permission-dropdown button:hover {
            background-color: #e8e8e8;
        }
        .share-permission-options {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 5px 0;
            min-width: 120px;
            z-index: 1001;
            display: none;
        }
        .share-permission-options.show {
            display: block;
        }
        .share-permission-options li {
            padding: 8px 12px;
            font-size: 13px;
            cursor: pointer;
            text-align: left;
        }
        .share-permission-options li:hover {
            background-color: #f1f3f5;
        }

        /* Utility classes for collapsible sections */
        .collapsible-content {
            display: block;
        }
        .collapsible-content.collapsed {
            display: none;
        }

        /* Footer */
        .app-footer { /* Renamed from .footer */
            height: 40px; /* Example fixed height */
            background-color: #f0f0f0;
            border-top: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #666;
            flex-shrink: 0; /* Prevent it from shrinking */
        }
    </style>
</head>
<body>
    <div class="app-header">
        <div class="header-logo">
            <img src="/images/logo_noback(withoutLettter).png" alt="로고이미지" />
            <img src="/images/logo_title.png" class="logo-title" alt="로고타이틀" />
        </div>
        <span class="status">ONLINE <span>●</span></span>
        <img src="/images/profile1.png" alt="프로필이미지" />
        <span class="admin">김팀장<br>Admin</span>
    </div>

    <div class="main-content-wrapper">
        <aside class="original-sidebar">
            <div>
                <div class="section-title">BOARDS</div>
                <ul>
                    <li>Notices</li>
                    <li>Department</li>
                    <li>Free</li>
                    <li>Q&A</li>
                    <li>Suggestion</li>
                    <li>Menu</li>
                </ul>
                <div class="section-title">MENU</div>
                <ul>
                    <li>Messages</li>
                    <li>Calender</li>
                    <li>Projects</li>
                    <li>Pages</li>
                    <li>Drive</li>
                </ul>
                <div class="section-title">SETTINGS</div>
                <ul>
                    <li>General</li>
                    <li>Projects</li>
                    <li>Pages</li>
                    <li>Plan</li>
                    <li>Messages</li>
                    <li>Drive</li>
                    <li>Calender</li>
                </ul>
            </div>
            <div><li>Logout</li></div>
        </aside>

        <div class="notion-style-sidebar">
            <div class="notion-style-sidebar-header">
                <h2>내 페이지 <span>(5)</span></h2>
                <div class="search-box">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" placeholder="검색하기">
                </div>
            </div>

            <div class="sidebar-section">
                <div class="section-title" data-target="recentPages">
                    <span>최근 페이지 (1)</span>
                    <i class="fa-solid fa-angle-down"></i>
                </div>
                <ul class="page-list collapsible-content" id="recentPages">
                    <li><i class="fa-solid fa-file icon"></i> 새 페이지 1</li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="section-title" data-target="pageList">
                    <span>페이지 목록 (5)</span>
                    <i class="fa-solid fa-angle-down"></i>
                </div>
                <ul class="page-list collapsible-content" id="pageList">
                    <li><i class="fa-solid fa-file icon"></i> 새 페이지 1</li>
                    <li><i class="fa-solid fa-file icon"></i> 새 페이지 5</li>
                    <li><i class="fa-solid fa-file icon"></i> 새 페이지 2</li>
                    <li class="active"><i class="fa-solid fa-file icon"></i> 새 페이지 4</li>
                    <li><i class="fa-solid fa-file icon"></i> 새 페이지 3</li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="section-title" data-target="sharedPages">
                    <span>공유 페이지 (1)</span>
                    <i class="fa-solid fa-angle-down"></i>
                </div>
                <ul class="page-list collapsible-content" id="sharedPages">
                    <li><i class="fa-solid fa-file icon"></i> 공유 페이지 1</li>
                </ul>
            </div>

            <div class="sidebar-section">
                <ul class="page-list">
                    <li><i class="fa-solid fa-trash-can icon"></i> 휴지통</li>
                </ul>
            </div>

            <div class="create-page-btn-wrapper">
                <button class="create-page-btn">
                    <i class="fa-solid fa-plus"></i> 새 페이지 생성
                </button>
            </div>
        </div>

        <div class="main-editor-area">
            <div class="main-header">
                <button class="share-btn" id="shareBtn">공유하기</button>
            </div>

            <div class="page-title-section">
                <div class="page-meta">
                    <i class="fa-solid fa-earth-americas"></i> 비어 있음
                </div>
                <input type="text" class="page-title-input" placeholder="텍스트 제목 입력" value="텍스트 제목 입력">
                <div class="add-property">
                    <i class="fa-solid fa-plus"></i> 속성 추가
                </div>
            </div>

            <div class="content-editor">
                <textarea placeholder="텍스트 내용 입력"></textarea>
            </div>

            <div class="share-modal" id="shareModal">
                <h3>공유하기</h3>
                <div class="share-input-group">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" placeholder="이름으로 구분된 이메일 또는 그룹">
                </div>
                <ul class="share-permission-list">
                    <li class="share-permission-item">
                        <div class="share-user-info">
                            <img src="https://via.placeholder.com/30" alt="User Avatar">
                            <span>user@gmail.com</span>
                        </div>
                        <div class="share-permission-dropdown">
                            <button id="permissionDropdownBtn">
                                전체 허용 <i class="fa-solid fa-angle-down"></i>
                            </button>
                            <ul class="share-permission-options" id="permissionOptions">
                                <li>전체 허용</li>
                                <li>편집 허용</li>
                                <li>댓글 허용</li>
                                <li>읽기 허용</li>
                                <li>사용 권한 없음</li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="app-footer">
        version 0.0.1 | License | More Themes | Documentation | Support
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Share Button & Modal Logic
            const shareBtn = document.getElementById('shareBtn');
            const shareModal = document.getElementById('shareModal');
            const permissionDropdownBtn = document.getElementById('permissionDropdownBtn');
            const permissionOptions = document.getElementById('permissionOptions');

            if (shareBtn && shareModal) { // Check if elements exist
                shareBtn.addEventListener('click', (event) => {
                    event.stopPropagation(); // Prevent document click from immediately closing
                    shareModal.classList.toggle('show');
                    // Hide permission options if share modal closes
                    if (!shareModal.classList.contains('show')) {
                        permissionOptions.classList.remove('show');
                    }
                });
            }


            // Toggle permission options dropdown
            if (permissionDropdownBtn && permissionOptions) {
                permissionDropdownBtn.addEventListener('click', (event) => {
                    event.stopPropagation(); // Prevent click from bubbling to document and closing modal
                    permissionOptions.classList.toggle('show');
                });
            }


            // Close share modal and permission options when clicking outside
            document.addEventListener('click', (event) => {
                if (shareModal && !shareModal.contains(event.target) && event.target !== shareBtn) {
                    shareModal.classList.remove('show');
                }
                if (permissionOptions && !permissionOptions.contains(event.target) && event.target !== permissionDropdownBtn) {
                    permissionOptions.classList.remove('show');
                }
            });

            // Select permission option
            if (permissionOptions) {
                permissionOptions.querySelectorAll('li').forEach(option => {
                    option.addEventListener('click', () => {
                        if (permissionDropdownBtn) {
                            // Safely update button text, handling text nodes
                            permissionDropdownBtn.childNodes[0].nodeValue = option.textContent.trim() + ' ';
                        }
                        permissionOptions.classList.remove('show'); // Hide dropdown
                    });
                });
            }

            // Collapsible Sidebar Sections (for Notion-style sidebar)
            document.querySelectorAll('.notion-style-sidebar .section-title').forEach(title => {
                title.addEventListener('click', () => {
                    const targetId = title.dataset.target;
                    const content = document.getElementById(targetId);
                    if (content) {
                        content.classList.toggle('collapsed');
                        title.classList.toggle('collapsed');
                    }
                });
            });
        });
    </script>
</body>
</html>