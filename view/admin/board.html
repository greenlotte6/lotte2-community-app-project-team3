<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="/css/index.css" />
    <link rel="stylesheet" href="/css/admin/board.css">
    <title>게시판 설정</title>
</head>
<style>

</style>

<body>
    <div class="container">
        <div class="header">
            <div class="header-logo">
                <img src="/images/logo_noback(withoutLettter).png" alt="로고이미지" />
                <img src="/images/logo_title.png" class="logo-title" alt="로고타이틀" />
            </div>
            <span class="status">ONLINE <span>●</span></span>
            <img src="/images/profile1.png" alt="프로필이미지" />
            <span class="admin">김팀장<br>Admin</span>
        </div>

        <div class="main-layout">
            <!-- 사이드메뉴 시작 -->
            <aside class="sidebar">
                <div>
                    <div class="section-title">BOARDS</div>
                    <ul>
                        <li>Notices</li>
                        <li>Department</li>
                        <li>Free</li>
                        <li>Q&A</li>
                        <li>Album</li>
                        <li>Menu</li>
                    </ul>
                    <div class="section-title">MENU</div>
                    <ul>
                        <li>Messages</li>
                        <li>Calender</li>
                        <li>Projects</li>
                        <li>Pages</li>
                        <li>Drive</li>
                    </ul>
                    <div class="section-title">SETTINGS</div>
                    <ul>
                        <li>프로필</li>
                        <li>알림</li>
                        <li>캘린더</li>
                        <li>페이지</li>
                        <li>메시지</li>
                        <li>내 드라이브</li>
                        <li>프로젝트</li>
                        <li>-------------------</li>
                        <li>게시판</li>
                        <li>플랜</li>
                    </ul>
                </div>
                <div>
                    <li>Logout</li>
                </div>
            </aside>
            <!-- 사이드메뉴 끝 -->

            <main class="main-content">

                <article class="main-content">
                    <!-- 메인 시작 -->
                    <div class="title">
                        <h1>게시판 설정</h1>
                    </div>
                    <div class="board-setting">
                        <div class="board">
                            <div class="head">
                                <p>게시판을 추가하거나 멤버 권한, 타입을 설정할 수 있습니다.</p>
                                <p>카테고리를 추가하거나 게시판 순서를 변경하려면 Admin 으로 접속 해주세요.</p>
                                <button onclick="openModal('addModal')">ADD</button>
                            </div>
                            <div class="body">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>게시판명</th>
                                            <th>작성권한</th>
                                            <th>타입</th>
                                            <th>관리</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>공지사항</td>
                                            <td>관리자</td>
                                            <td>게시판</td>
                                            <td>
                                                <button onclick="openModal('modifyModal')">수정</button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>자유게시판</td>
                                            <td>제한없음</td>
                                            <td>게시판</td>
                                            <td>
                                                <button onclick="openModal('modifyModal')">수정</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- 메인 끝 -->

                </article>
            </main>
        </div>


        <div class="footer">
            version 0.0.1 | License | More Themes | Documentation | Support
        </div>

    </div>

    <!-- ADD Modal -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addModal')">&times;</span>
            <h2>게시판 추가</h2>
            <label>게시판명</label>
            <input type="text" placeholder="게시판명을 입력해 주세요." />

            <label>게시판 설명</label>
            <input type="text" placeholder="설명을 입력해 주세요." />

            <label>공유 범위</label>
            <select id="shareScope" onchange="handleShareScopeChange()">
                <option value="all">전체공개</option>
                <option value="member">멤버공개</option>
            </select>

            <!-- 멤버 입력 필드 (기본은 숨김) -->
            <div id="memberInputContainer">
                <label>공유할 멤버</label>
                <input type="text" id="memberInput" placeholder="이메일 또는 아이디 입력 후 Enter" onkeydown="addMember(event)" />
                <div id="memberTagContainer"></div>
            </div>

            <label>작성 권한</label>
            <select>
                <option>관리자 및 게시판마스터만</option>
                <option>전체</option>
            </select>

            <label>타입</label>
            <select>
                <option>게시판</option>
                <option>미리보기</option>
                <option>앨범</option>
            </select>

            <label>댓글허용</label>
            <label class="switch">
                <input type="checkbox" checked>
                <span class="slider round"></span>
            </label>
            <button onclick="closeModal('addModal')">저장</button>
        </div>
    </div>

    <!-- MODIFY Modal -->
    <div id="modifyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modifyModal')">&times;</span>
            <h2>게시판 수정</h2>
            <label>게시판명</label>
            <input type="text" placeholder="게시판명을 입력해 주세요." />

            <label>게시판 설명</label>
            <input type="text" placeholder="설명을 입력해 주세요." />

            <label>작성 권한</label>
            <select>
                <option>관리자 및 게시판마스터만</option>
                <option>전체</option>
            </select>

            <label>타입</label>
            <select>
                <option>게시판</option>
                <option>미리보기</option>
                <option>앨범</option>
            </select>

            <label>댓글허용</label>
            <label class="switch">
                <input type="checkbox" checked>
                <span class="slider round"></span>
            </label>

            <label>삭제</label>
            <label>
                <button class="deleteBtn" onclick="confirmDelete()">삭제</button>
            </label>
            <button onclick="closeModal('modifyModal')">수정</button>

        </div>
    </div>
    <script>
        function openModal(id) {
            document.getElementById(id).style.display = 'block';
        }

        function closeModal(id) {
            document.getElementById(id).style.display = 'none';
        }

        window.onclick = function (event) {
            if (event.target.classList.contains('modal')) {
                closeModal(event.target.id);
            }
        };
        function handleShareScopeChange() {
            const shareSelect = document.getElementById('shareScope');
            const memberInput = document.getElementById('memberInputContainer');

            if (shareSelect.value === 'member') {
                memberInput.style.display = 'block';
            } else {
                memberInput.style.display = 'none';
            }
        }
        let sharedMembers = [];

        function addMember(event) {
            const input = document.getElementById('memberInput');
            const container = document.getElementById('memberTagContainer');

            if (event.key === 'Enter' && input.value.trim() !== '') {
                event.preventDefault(); // form 제출 방지
                const value = input.value.trim();

                // 중복 체크
                if (sharedMembers.includes(value)) {
                    alert('이미 추가된 멤버입니다.');
                    input.value = '';
                    return;
                }

                sharedMembers.push(value);

                const tag = document.createElement('div');
                tag.className = 'tag';
                tag.style.cssText = `
                    background-color: #e0f7f6;
                    padding: 5px 10px;
                    border-radius: 20px;
                    font-size: 12px;
                    display: flex;
                    align-items: center;
                `;
                tag.innerHTML = `
                    ${value}
                    <span style="margin-left:8px; cursor:pointer; color: #999;" onclick="removeMember('${value}', this)">×</span>
                `;

                container.appendChild(tag);
                input.value = '';
            }
        }

        function removeMember(value, element) {
            sharedMembers = sharedMembers.filter(item => item !== value);
            element.parentElement.remove();
        }

        function confirmDelete() {
            const confirmed = confirm("정말 삭제하시겠습니까?");
            if (confirmed) {
                // 실제 삭제 처리 로직이 있다면 여기에 추가
                // 예: 서버로 delete 요청 보내기 등

                closeModal('modifyModal'); // 수정 모달 닫기
                alert("삭제되었습니다."); // 필요 시 사용자 알림
            }
        }
    </script>

</body>

</html>